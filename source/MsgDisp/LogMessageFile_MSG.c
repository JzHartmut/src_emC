/**************************************************************************
 * This file is generated by Java2C
 **copyright***************************************************************
 *************************************************************************/
#include "MsgDisp/LogMessageFile_MSG.h"
#include <string.h>  //because using memset()
#include <Jc/ReflectionJc.h>   //Reflection concept 
#include <Fwc/fw_Exception.h>  //basic stacktrace concept
#include "Jc/ConcurrentLinkedQueueJc.h"  //new object
#include "Jc/FormatterJc.h"  //embedded type in block
#include "Jc/LocaleJc.h"  //reference-association: LocaleJc_s
#include "Jc/TimeZoneJc.h"  //reference-association: TimeZoneJc_s
#include "MsgDisp/MsgDispatcher_MSG.h"  //reference-association: parkedEntry
#include "MsgDisp/VaArgBuffer.h"  //reference-association: values


/* J2C: Forward declaration of struct ***********************************************/
struct Entry_MsgDispatcher_MSG_t;


/* J2C: Method-table-references *********************************************************/
#ifndef LogMessageFWMTBDEF
  #define LogMessageFWMTBDEF
  typedef struct LogMessageFWMTB_t { struct Mtbl_LogMessageFW_t const* mtbl; struct LogMessageFW_t* ref; } LogMessageFWMTB;
#endif



const char sign_Mtbl_LogMessageFile_MSG[] = "LogMessageFile_MSG"; //to mark method tables of all implementations

typedef struct MtblDef_LogMessageFile_MSG_t { Mtbl_LogMessageFile_MSG mtbl; MtblHeadJc end; } MtblDef_LogMessageFile_MSG;
 extern MtblDef_LogMessageFile_MSG const mtblLogMessageFile_MSG;

/*Constructor */
struct LogMessageFile_MSG_t* ctorO_LogMessageFile_MSG(ObjectJc* othis, StringJc sFilename, int32 nrofSecondsToFlush, int32 nrofHoursPerFile, struct LocaleJc_t* localization, struct TimeZoneJc_t* timeZoneP, struct ConcurrentLinkedQueueJc_t* freeEntriesP, ThCxt* _thCxt)
{ LogMessageFile_MSG_s* ythis = (LogMessageFile_MSG_s*)othis;  //upcasting to the real class.
  STACKTRC_TENTRY("ctorO_LogMessageFile_MSG");
  checkConsistence_ObjectJc(othis, sizeof(LogMessageFile_MSG_s), null, _thCxt);  
  setReflection_ObjectJc(othis, &reflection_LogMessageFile_MSG_s, sizeof(LogMessageFile_MSG_s));  
  //j2c: Initialize all class variables:
  {
    //J2C: constructor for embedded fix-size-StringBuffer
      init_ObjectJc(&ythis->sFilenameBuffer.sb.base.object, sizeof(StringBuilderJc) + 120 - 4, 0);
      ctorO_I_StringBuilderJc(&ythis->sFilenameBuffer.sb.base.object, 120, _thCxt);
    //J2C: constructor for embedded fix-size-StringBuffer
      init_ObjectJc(&ythis->sDateformatBuffer.sb.base.object, sizeof(StringBuilderJc) + 32 - 4, 0);
      ctorO_I_StringBuilderJc(&ythis->sDateformatBuffer.sb.base.object, 32, _thCxt);
    //J2C: constructor for embedded element-ObjectJc
      init_ObjectJc(&(ythis->formatTimestamp.base.object), sizeof(ythis->formatTimestamp), 0); 
      ctorO_SimpleDateFormatJc(/*static*/&(ythis->formatTimestamp.base.object), _thCxt);
    ythis->counterMultifile = 0;
    //J2C: constructor for embedded element-ObjectJc
      init_ObjectJc(&(ythis->formatField.base.object), sizeof(ythis->formatField), 0); 
      ctorO_TextFieldPositionJc(/*static*/&(ythis->formatField.base.object), DATE_FIELD_SimpleDateFormatJc, _thCxt);
    /*J2C: newArray*/
      init_ObjectJc(&ythis->charsFormatTimestampFilename.head.object, sizeof_ARRAYJc(char, 32), 0);   //J2C: ctor embedded array.
      ctorO_ObjectArrayJc(&ythis->charsFormatTimestampFilename.head.object, 32, sizeof(char), null, 0);//J2C: constructor for embedded array;
    //J2C: constructor for embedded element-ObjectJc
      init_ObjectJc(&(ythis->file.base.object), sizeof(ythis->file), 0); 
      ctorO_FileWriterJc(/*static*/&(ythis->file.base.object), _thCxt);
    //J2C: constructor for embedded element
      INIT_OS_TimeStamp(/*static*/ythis->timeOpen);
    ythis->bNewFile = true;
    //J2C: constructor for embedded element
      INIT_OS_TimeStamp(/*static*/ythis->timeWrite);
    //J2C: constructor for embedded element
      INIT_OS_TimeStamp(/*static*/ythis->timeClose);
    ythis->shouldFlushed = false;
    //J2C: constructor for embedded element-MemC
      ctorM_Dbg_LogMessageFile_MSG(/*static*/build_MemC(&ythis->dbg, sizeof(ythis->dbg)), _thCxt);
    //J2C: constructor for embedded element-ObjectJc
      init_ObjectJc(&(ythis->dateFormat.base.object), sizeof(ythis->dateFormat), 0); 
      ctorO_s_SimpleDateFormatJc(/*static*/&(ythis->dateFormat.base.object), s0_StringJc("yyyy-MM-dd HH:mm:ss,SSS; "), _thCxt);
    //J2C: constructor for embedded fix-size-StringBuffer
      init_ObjectJc(&ythis->sBuffer.sb.base.object, sizeof(StringBuilderJc) + 1000 - 4, 0);
      ctorO_I_StringBuilderJc(&ythis->sBuffer.sb.base.object, 1000, _thCxt);
  }
  { 
    StringJc sTimestampInFilename = NULL_StringJc; 
    int32 pos2TimestampInFilename = 0; 
    
    StringJc _temp1_1; //J2C: temporary references for concatenation
    
    if(localization == null) 
    { 
      
      SETREFJc(ythis->localization, & (ROOT_LocaleJc), LocaleJc_s);
    }
    else 
    { 
      
      SETREFJc(ythis->localization, localization, LocaleJc_s);
    }
    SETREFJc(ythis->timeZone, timeZoneP == null ? getTimeZone_TimeZoneJc(/*static*/s0_StringJc("GMT"), _thCxt) : timeZoneP, TimeZoneJc_s);
    setTimeZone_SimpleDateFormatJc(& (ythis->dateFormat), REFJc(ythis->timeZone), _thCxt);
    setTimeZone_SimpleDateFormatJc(& (ythis->formatTimestamp), REFJc(ythis->timeZone), _thCxt);
    /*no initvalue*/
    ythis->freeEntries = freeEntriesP;
    if(freeEntriesP != null) 
    { 
      ObjectJc *newObj2_1=null; //J2C: temporary Objects for new operations
      
      ythis->parkedOrders = ctorO_Clq_ConcurrentLinkedQueueJc(/*static*/(newObj2_1 = alloc_ObjectJc(sizeof_ConcurrentLinkedQueueJc_s, 0, _thCxt)), freeEntriesP, _thCxt);
      activateGC_ObjectJc(newObj2_1, null, _thCxt);
    }
    else 
    { 
      
      ythis->parkedOrders = null;
    }
    /*no initvalue*/
    if(nrofSecondsToFlush > 0) 
    { 
      
      ythis->nrofSecondsToFlush = nrofSecondsToFlush;
      ythis->nrofSecondsToClose = -1;
    }
    else 
    { 
      
      ythis->nrofSecondsToClose = -nrofSecondsToFlush;//use positive value!
      
      ythis->nrofSecondsToFlush = -1;
    }
    ythis->nrofHoursPerFile = nrofHoursPerFile;
    ythis->posTimestampInFilename = indexOf_C_StringJc(sFilename, '$');
    if(ythis->posTimestampInFilename >= 0) 
    { 
      
      pos2TimestampInFilename = indexOf_CI_StringJc(sFilename, '$', ythis->posTimestampInFilename + 1);
      if(pos2TimestampInFilename > 0) 
      { 
        int32 nrofCharsTimestampInFilename; 
        
        
        sTimestampInFilename = substring_StringJc(sFilename, ythis->posTimestampInFilename + 1, pos2TimestampInFilename, _thCxt)/*J2C:non-persistent*/;
        nrofCharsTimestampInFilename = length_StringJc(sTimestampInFilename);
        /*Store the format String localy in this class. It's not depend from outside memory management. */
        getChars_StringJc(sTimestampInFilename, 0, nrofCharsTimestampInFilename, (struct char_Y_t*)(&( ythis->charsFormatTimestampFilename)), 0, _thCxt);//charsFormatTimestampFilename.append(sTimestampInFilename);
        
        /*Represent the StringBuilder with a String.*/
        set_StringJc(&(ythis->sFormatTimestampFilename), declarePersist_StringJc(new_CYI_StringJc(/*static*/(struct char_Y_t*)(&( ythis->charsFormatTimestampFilename)), 0, nrofCharsTimestampInFilename, _thCxt)));//sFormatTimestampFilename = charsFormatTimestampFilename.toString();
        
      }
      else { throw_s0Jc(ident_IllegalArgumentExceptionJc, "second $ to delimit timestamp in filename missing.", 0, &_thCxt->stacktraceThreadContext, __LINE__); return 0; };//, this.posTimestampInFilename);
      
      applyPattern_SimpleDateFormatJc(& (ythis->formatTimestamp), ythis->sFormatTimestampFilename, _thCxt);
      append_s_StringBuilderJc(& (ythis->sFilenameBuffer.sb), substring_StringJc(sFilename, 0, ythis->posTimestampInFilename, _thCxt), _thCxt);
      if(indexOf_C_StringJc(sFilename, '*') >= 0) 
      { //:The current timeStamp should be applied only here, it is the startup of the application.
        
        StringJc sTimeFileOpen;   /**/
        
        
        set_OS_TimeStamp(ythis->timeOpen, os_getDateTime());
        setLength_StringBuilderJc(& (ythis->sDateformatBuffer.sb), 0, _thCxt);//clear it.
        
        format_tu_SimpleDateFormatJc(& (ythis->formatTimestamp), ythis->timeOpen, & (ythis->sDateformatBuffer.sb), & (ythis->formatField), _thCxt);
        sTimeFileOpen = toStringNonPersist_StringBuilderJc(& ((ythis->sDateformatBuffer.sb).base.object), _thCxt)/*J2C:non-persistent*/;
        append_s_StringBuilderJc(& (ythis->sFilenameBuffer.sb), sTimeFileOpen, _thCxt);
        ythis->posTimestampInFilename = -1;//don't replace the time stamp a second one.
        
      }
      else 
      { //:use the format string only as placeholder
        
        
        append_s_StringBuilderJc(& (ythis->sFilenameBuffer.sb), ythis->sFormatTimestampFilename, _thCxt);
      }
      append_s_StringBuilderJc(& (ythis->sFilenameBuffer.sb), substring_I_StringJc(sFilename, pos2TimestampInFilename + 1, _thCxt), _thCxt);
    }
    else 
    { //:no timeStamp in filename given, not used.
      
      
      append_s_StringBuilderJc(& (ythis->sFilenameBuffer.sb), sFilename, _thCxt);
      ythis->bNewFile = false;//append on existing file.
      
    }
    /**Determines the position of an asterisk*/
    ythis->posMultifileInFilename = 
      ( _temp1_1= toStringNonPersist_StringBuilderJc(& ((ythis->sFilenameBuffer.sb).base.object), _thCxt)
      , indexOf_C_StringJc(_temp1_1, '*')
      );//may be -1, than not used.
    
    ythis->currentLengthMultifileNr = 1;//initial the '*' is to replace.
    
  }
  STACKTRC_LEAVE;
  return ythis;
}



/**Sets a log output if a open or close action is done*/
void setLogMessageOpenClose_LogMessageFile_MSG_F(LogMessageFile_MSG_s* ythis, struct LogMessageFW_t* msg, int32 msgIdentOpenClose, ThCxt* _thCxt)
{ 
  STACKTRC_TENTRY("setLogMessageOpenClose_LogMessageFile_MSG_F");
  
  { 
    
    SETREFJc(ythis->msgOpenClose, msg, LogMessageFW_i);
    ythis->msgIdentOpenClose = msgIdentOpenClose;
  }
  STACKTRC_LEAVE;
}

/*J2C: dynamic call variant of the override-able method: */
void setLogMessageOpenClose_LogMessageFile_MSG(LogMessageFile_MSG_s* ythis, struct LogMessageFW_t* msg, int32 msgIdentOpenClose, ThCxt* _thCxt)
{ Mtbl_LogMessageFile_MSG const* mtbl = (Mtbl_LogMessageFile_MSG const*)getMtbl_ObjectJc(&ythis->base.object, sign_Mtbl_LogMessageFile_MSG);
  mtbl->setLogMessageOpenClose(ythis, msg, msgIdentOpenClose, _thCxt);
}


/**Sends a message*/
bool sendMsg_izv_LogMessageFile_MSG_F(LogMessageFW_i* ithis, int32 identNumber, char const* text, char const* args, ...)
{ LogMessageFile_MSG_s* ythis = (LogMessageFile_MSG_s*)ithis;
  Mtbl_LogMessageFile_MSG const* mtthis = (Mtbl_LogMessageFile_MSG const*)getMtbl_ObjectJc(&ythis->base.object, sign_Mtbl_LogMessageFile_MSG);
  
  STACKTRC_ENTRY("sendMsg_izv_LogMessageFile_MSG_F");
  
  { 
    Va_listFW vaArgs = { 0 };   /*store the variable arguments in a Va_list to handle for next call.*/
    
    
    
    va_start(vaArgs.args, args); vaArgs.typeArgs = args;
    { STACKTRC_LEAVE;
      return mtthis->LogMessageFW.sendMsgVaList(& ((* (ythis)).base.LogMessageFW)/*J2cT1*/, identNumber, os_getDateTime(), text, vaArgs, _thCxt);
    }
  }
  STACKTRC_LEAVE;
}

/*J2C: dynamic call variant of the override-able method: */
bool sendMsg_izv_LogMessageFile_MSG(LogMessageFW_i* ithis, int32 identNumber, char const* text, char const* args, ...)
{ Mtbl_LogMessageFW const* mtbl = (Mtbl_LogMessageFW const*)getMtbl_ObjectJc(&ithis->base.object, sign_Mtbl_LogMessageFW);
  return mtbl->sendMsg((LogMessageFW_i*)ithis, identNumber, text, args);
}


/**Sends a message*/
bool sendMsgTime_iDtzv_LogMessageFile_MSG(LogMessageFW_i* ithis, int32 identNumber, OS_TimeStamp creationTime, char const* text, char const* args, ...)
{ LogMessageFile_MSG_s* ythis = (LogMessageFile_MSG_s*)ithis;
  Mtbl_LogMessageFile_MSG const* mtthis = (Mtbl_LogMessageFile_MSG const*)getMtbl_ObjectJc(&ythis->base.object, sign_Mtbl_LogMessageFile_MSG);
  
  STACKTRC_ENTRY("sendMsgTime_iDtzv_LogMessageFile_MSG");
  
  { 
    Va_listFW vaArgs = { 0 };   /*store the variable arguments in a Va_list to handle for next call.*/
    
    
    
    va_start(vaArgs.args, args); vaArgs.typeArgs = args;
    { STACKTRC_LEAVE;
      return mtthis->LogMessageFW.sendMsgVaList(& ((* (ythis)).base.LogMessageFW)/*J2cT1*/, identNumber, creationTime, text, vaArgs, _thCxt);
    }
  }
  STACKTRC_LEAVE;
}


/**Sends a message*/
bool sendMsgVaList_iDtzv_LogMessageFile_MSG_F(LogMessageFW_i* ithis, int32 identNumber, OS_TimeStamp creationTime, char const* text, Va_listFW args, ThCxt* _thCxt)
{ LogMessageFile_MSG_s* ythis = (LogMessageFile_MSG_s*)ithis;
  Mtbl_LogMessageFile_MSG const* mtthis = (Mtbl_LogMessageFile_MSG const*)getMtbl_ObjectJc(&ythis->base.object, sign_Mtbl_LogMessageFile_MSG);
  
  STACKTRC_TENTRY("sendMsgVaList_iDtzv_LogMessageFile_MSG_F");
  
  { 
    bool sent = 0; 
    LogMessageFWMTB msgOpenClose;   /**/
    
    
    /*no initvalue*/
    SETMTBJc(msgOpenClose, REFJc(ythis->msgOpenClose), LogMessageFW);
    if(!ythis->bNewFile && ythis->nrofHoursPerFile != 0) 
    { 
      OS_TimeStamp timeTest = { 0 };   /*Test whether the filename is used longer as nrofHoursPerFile.*/
      int32 secDiff = 0; 
      int32 secDiffTest; 
      
      
      
      //J2C: constructor for embedded element
      INIT_OS_TimeStamp(/*static*/timeTest);
      /*no initvalue*/
      set_OS_TimeStamp(timeTest, os_getDateTime());
      secDiff = timeTest.time_sec - ythis->timeOpen.time_sec;
      secDiffTest = ythis->nrofHoursPerFile > 0 ? 3600 * ythis->nrofHoursPerFile : -ythis->nrofHoursPerFile;
      if(secDiff >= secDiffTest) 
      { 
        
        if(isOpen_FileWriterJc(& (ythis->file))) 
        { //:printf("\nclose log-file\n");
          
          
          close_FileWriterJc(& (ythis->file), _thCxt);//catch(IOException exc){  }
          
        }
        /*indicate, that a new filename should be used. */
        ythis->bNewFile = true;
      }
    }
    if(!isOpen_FileWriterJc(& (ythis->file))) 
    { 
      bool canOpen = 0;   /*file open because data are to write: */
      
      
      /*no initvalue*/
      if(ythis->nrofSecondsToClose > 0) 
      { 
        OS_TimeStamp timeTest = { 0 }; 
        int32 secDiff; 
        
        
        
        //J2C: constructor for embedded element
        INIT_OS_TimeStamp(/*static*/timeTest);
        set_OS_TimeStamp(timeTest, os_getDateTime());
        secDiff = timeTest.time_sec - ythis->timeClose.time_sec;
        canOpen = (secDiff >= ythis->nrofSecondsToClose);
      }
      else 
      { 
        
        canOpen = true;
      }
      if(canOpen) 
      { 
        bool isOpen = false; 
        bool shouldOpenWithNewName = false; 
        
        
        isOpen = false;
        shouldOpenWithNewName = false;
        do 
          { 
            int32 error;   /**/
            
            
            if(ythis->bNewFile && ythis->posTimestampInFilename >= 0) 
            { 
              StringJc sTimeFileOpen;   /**/
              
              
              /**Build a new filename, after nrofHoursPerFile, but also first. */
              set_OS_TimeStamp(ythis->timeOpen, os_getDateTime());
              setLength_StringBuilderJc(& (ythis->sDateformatBuffer.sb), 0, _thCxt);//clear it.
              
              format_tu_SimpleDateFormatJc(& (ythis->formatTimestamp), ythis->timeOpen, & (ythis->sDateformatBuffer.sb), & (ythis->formatField), _thCxt);
              sTimeFileOpen = toStringNonPersist_StringBuilderJc(& ((ythis->sDateformatBuffer.sb).base.object), _thCxt)/*J2C:non-persistent*/;
              replace_StringBuilderJc(& (ythis->sFilenameBuffer.sb), ythis->posTimestampInFilename, ythis->posTimestampInFilename + length_StringJc(sTimeFileOpen), sTimeFileOpen, _thCxt);
            }
            if(ythis->bNewFile && ythis->posMultifileInFilename >= 0) 
            { 
              struct SbY_bufferFormat_t { StringBufferJc sb; char _b[16]; }bufferFormat = { 0 };   /*Build a new filename, after nrofHoursPerFile, but also first, with counted number (multiFile)*/
              StringJc sCounterMultifile;   /**/
              
              
              
              //J2C: constructor for embedded fix-size-StringBuffer
              init_ObjectJc(&bufferFormat.sb.base.object, sizeof(StringBuilderJc) + 20 - 4, 0);
              ctorO_I_StringBuilderJc(&bufferFormat.sb.base.object, 20, _thCxt);
              /***/
              append_I_StringBuilderJc(& (bufferFormat.sb), ++ythis->counterMultifile, _thCxt);
              sCounterMultifile = toStringNonPersist_StringBuilderJc(& ((bufferFormat.sb).base.object), _thCxt)/*J2C:non-persistent*/;
              replace_StringBuilderJc(& (ythis->sFilenameBuffer.sb), ythis->posMultifileInFilename, ythis->posMultifileInFilename + ythis->currentLengthMultifileNr, sCounterMultifile, _thCxt);
              ythis->currentLengthMultifileNr = length_StringJc(sCounterMultifile);
            }
            error = open_FileWriterJc(& (ythis->file), toStringNonPersist_StringBuilderJc(& ((ythis->sFilenameBuffer.sb).base.object), _thCxt), !ythis->bNewFile, _thCxt);
            if(error >= 0) 
            { 
              
              isOpen = true;
              ythis->bNewFile = false;
              if(msgOpenClose.ref!= null) 
              { 
                
                /** */
                msgOpenClose.mtbl->sendMsg( (msgOpenClose.ref), ythis->msgIdentOpenClose + kMsgOpen_LogMessageFile_MSG, "open %s", "s", toStringNonPersist_StringBuilderJc(& ((ythis->sFilenameBuffer.sb).base.object), _thCxt));
              }
            }
            else 
            { 
              
              if(false && error == kFileNotFound_FileWriterJc) 
              { //:System.err.println("file path incorrect");
                
                
                ythis->dbg.cntFilePathIncorrect += 1;
              }
              else 
              { 
                
                if(!shouldOpenWithNewName) 
                { 
                  
                  ythis->bNewFile = true;
                  shouldOpenWithNewName = true;
                  ythis->dbg.cntCreateNewBecauseOpenFailed += 1;
                  if(msgOpenClose.ref!= null) 
                  { 
                    
                    sendMsg_z_LogMessageFW( (msgOpenClose.ref), ythis->msgIdentOpenClose + kMsgNewFile_LogMessageFile_MSG, "new File", _thCxt);
                  }
                }
                else 
                { 
                  
                  /**Don't try again if it is tried already. */
                  shouldOpenWithNewName = false;
                  ythis->dbg.cntOpenFailed += 1;
                  if(msgOpenClose.ref!= null) 
                  { 
                    
                    sendMsg_z_LogMessageFW( (msgOpenClose.ref), ythis->msgIdentOpenClose + kMsgOpenError_LogMessageFile_MSG, "fatalOpenError", _thCxt);
                  }
                }
              }
            }
          }while(!isOpen && shouldOpenWithNewName);
      }
    }
    if(isOpen_FileWriterJc(& (ythis->file))) 
    { 
      
      if(ythis->parkedOrders != null) 
      { 
        struct Entry_MsgDispatcher_MSG_t* parkedEntry = null; 
        
        
        /*no initvalue*/
        do 
          { 
            
            parkedEntry = ((/*J2C:cast from void*/Entry_MsgDispatcher_MSG_s*)(poll_ConcurrentLinkedQueueJc(ythis->parkedOrders, _thCxt)));
            if(parkedEntry != null) 
            { 
              
              /**There are parked outputs, now output it. */
              mtthis->writeInFile(ythis, parkedEntry->ident, parkedEntry->timestamp, parkedEntry->text, get_va_list_VaArgBuffer(& (parkedEntry->values), _thCxt), _thCxt);
              clean_VaArgBuffer(& (parkedEntry->values), _thCxt);
              parkedEntry->ident = 0;
              offer_ConcurrentLinkedQueueJc(ythis->freeEntries, parkedEntry, _thCxt);
            }
          }while(parkedEntry != null);
      }
      /**Output the current message. */
      mtthis->writeInFile(ythis, identNumber, creationTime, text, args, _thCxt);
      sent = true;
    }
    else 
    { //:file can't open,
      
      
      if(ythis->freeEntries != null) 
      { 
        struct Entry_MsgDispatcher_MSG_t* entry; 
        
        
        entry = ((/*J2C:cast from void*/Entry_MsgDispatcher_MSG_s*)(poll_ConcurrentLinkedQueueJc(ythis->freeEntries, _thCxt)));
        if(entry == null) 
        { 
          
          /**Not able to send, because no entries. */
          sent = false;
        }
        else 
        { 
          
          /**write the informations to the entry, store it. */
          entry->dst = 0;
          entry->ident = identNumber;
          entry->text = text;
          set_OS_TimeStamp(entry->timestamp, creationTime);
          copyFrom_VaArgBuffer(& (entry->values), text, args, _thCxt);
          offer_ConcurrentLinkedQueueJc(ythis->parkedOrders, entry, _thCxt);
          /**Storing message in queue is adequate to send. */
          sent = true;
        }
      }
      else 
      { 
        
        /**Not able to send. No queue available. */
        sent = false;
      }
    }
    { STACKTRC_LEAVE;
      return sent;
    }
  }
  STACKTRC_LEAVE;
}

/*J2C: dynamic call variant of the override-able method: */
bool sendMsgVaList_iDtzv_LogMessageFile_MSG(LogMessageFW_i* ithis, int32 identNumber, OS_TimeStamp creationTime, char const* text, Va_listFW args, ThCxt* _thCxt)
{ Mtbl_LogMessageFW const* mtbl = (Mtbl_LogMessageFW const*)getMtbl_ObjectJc(&ithis->base.object, sign_Mtbl_LogMessageFW);
  return mtbl->sendMsgVaList((LogMessageFW_i*)ithis, identNumber, creationTime, text, args, _thCxt);
}


/**This method can be called after a cyclic time less than the nrofSecondsToFlush,*/
void flush_LogMessageFile_MSG_F(LogMessageFW_i* ithis, ThCxt* _thCxt)
{ LogMessageFile_MSG_s* ythis = (LogMessageFile_MSG_s*)ithis;
  
  STACKTRC_TENTRY("flush_LogMessageFile_MSG_F");
  
  { 
    
    if(ythis->nrofSecondsToClose > 0 && isOpen_FileWriterJc(& (ythis->file))) 
    { 
      int32 secDiff = 0; 
      OS_TimeStamp timeTest1 = { 0 }; 
      
      
      /*no initvalue*/
      
      //J2C: constructor for embedded element
      INIT_now_OS_TimeStamp(/*static*/timeTest1, true);
      secDiff = timeTest1.time_sec - ythis->timeWrite.time_sec;
      if(secDiff >= ythis->nrofSecondsToClose) 
      { 
        
        close_FileWriterJc(& (ythis->file), _thCxt);//catch(IOException exc){ dbg.cntCloseError +=1; }
        
        if(ythis->maxCntNonFlushedWrite < ythis->cntNonFlushedWrite) 
        { 
          
          /**Gets the maximum. */
          ythis->maxCntNonFlushedWrite = ythis->cntNonFlushedWrite;
        }
        ythis->shouldFlushed = false;
        set_OS_TimeStamp(ythis->timeClose, timeTest1);
        if(REFJc(ythis->msgOpenClose) != null) 
        { 
          
          sendMsg_z_LogMessageFW(REFJc(ythis->msgOpenClose), ythis->msgIdentOpenClose + kMsgClose_LogMessageFile_MSG, "close", _thCxt);
        }
      }
    }
    if(ythis->nrofSecondsToFlush > 0 && ythis->shouldFlushed) 
    { 
      int32 secDiff = 0; 
      OS_TimeStamp timeTest = { 0 }; 
      
      
      /*no initvalue*/
      
      //J2C: constructor for embedded element
      INIT_now_OS_TimeStamp(/*static*/timeTest, true);
      secDiff = timeTest.time_sec - ythis->timeOpen.time_sec;
      if(secDiff >= ythis->nrofSecondsToFlush) 
      { 
        
        TRY
        { 
          
          flush_FileWriterJc(& (ythis->file), _thCxt);
        }_TRY
        CATCH(IOException, exc)
        
          { 
            
            ythis->dbg.cntCloseError += 1;
          }
        END_TRY
        if(ythis->maxCntNonFlushedWrite < ythis->cntNonFlushedWrite) 
        { 
          
          /**Gets the maximum. */
          ythis->maxCntNonFlushedWrite = ythis->cntNonFlushedWrite;
        }
        ythis->shouldFlushed = false;
      }
    }
  }
  STACKTRC_LEAVE;
}

/*J2C: dynamic call variant of the override-able method: */
void flush_LogMessageFile_MSG(LogMessageFW_i* ithis, ThCxt* _thCxt)
{ Mtbl_LogMessageFW const* mtbl = (Mtbl_LogMessageFW const*)getMtbl_ObjectJc(&ithis->base.object, sign_Mtbl_LogMessageFW);
  mtbl->flush((LogMessageFW_i*)ithis, _thCxt);
}


/**Tests*/
void writeInFile_LogMessageFile_MSG_F(LogMessageFile_MSG_s* ythis, int32 identNumber, OS_TimeStamp creationTime, char const* text, Va_listFW args, ThCxt* _thCxt)
{ 
  STACKTRC_TENTRY("writeInFile_LogMessageFile_MSG_F");
  
  { 
    struct SbY_bufferFormat_t { StringBufferJc sb; char _b[996]; }bufferFormat = { 0 };   /**/
    FormatterJc_s formatter = { 0 };   /**/
    StringJc textFormatted = NULL_StringJc; 
    struct SbY_bufferTimestamp_t { StringBufferJc sb; char _b[26]; }bufferTimestamp = { 0 };   /**/
    char const* sComGo = 0;   /*Comming or Going-identification as String, negative identNumer = going message. */
    
    
    
    //J2C: constructor for embedded fix-size-StringBuffer
    init_ObjectJc(&bufferFormat.sb.base.object, sizeof(StringBuilderJc) + 1000 - 4, 0);
    ctorO_I_StringBuilderJc(&bufferFormat.sb.base.object, 1000, _thCxt);
    
    //J2C: constructor for embedded element-ObjectJc
    init_ObjectJc(&(formatter.base.object), sizeof(formatter), 0); 
    ctorO_SbLo_FormatterJc(/*static*/&(formatter.base.object), & (bufferFormat.sb), REFJc(ythis->localization), _thCxt);
    /*no initvalue*/
    TRY
    { 
      
      format_FormatterJc(& (formatter), s0_StringJc(text), (args), _thCxt);
    }_TRY
    CATCH(IllegalFormatConversionException, exc)
    
      { 
         //J2C: temporary Stringbuffer for String concatenation
        StringBuilderJc* _tempString1_1=null; 
        
        append_s_StringBuilderJc(& (bufferFormat.sb), 
          ( _tempString1_1 = new_StringBuilderJc(-1, _thCxt)
          , setStringConcatBuffer_StringBuilderJc(_tempString1_1)
          , append_z_StringBuilderJc(_tempString1_1, "error in text format: ", _thCxt)
          , append_z_StringBuilderJc(_tempString1_1, text, _thCxt)
          , toString_StringBuilderJc(&(_tempString1_1)->base.object, _thCxt)
          ), _thCxt);
        activateGC_ObjectJc(&_tempString1_1->base.object, null, _thCxt);
      }
    CATCH(IllegalFormatPrecisionException, exc)
    
      { 
         //J2C: temporary Stringbuffer for String concatenation
        StringBuilderJc* _tempString1_1=null; 
        
        append_s_StringBuilderJc(& (bufferFormat.sb), 
          ( _tempString1_1 = new_StringBuilderJc(-1, _thCxt)
          , setStringConcatBuffer_StringBuilderJc(_tempString1_1)
          , append_z_StringBuilderJc(_tempString1_1, "error-precision in text format: ", _thCxt)
          , append_z_StringBuilderJc(_tempString1_1, text, _thCxt)
          , toString_StringBuilderJc(&(_tempString1_1)->base.object, _thCxt)
          ), _thCxt);
        activateGC_ObjectJc(&_tempString1_1->base.object, null, _thCxt);
      }
    END_TRY
    
    //J2C: constructor for embedded fix-size-StringBuffer
    init_ObjectJc(&bufferTimestamp.sb.base.object, sizeof(StringBuilderJc) + 30 - 4, 0);
    ctorO_I_StringBuilderJc(&bufferTimestamp.sb.base.object, 30, _thCxt);
    format_tu_SimpleDateFormatJc(& (ythis->dateFormat), creationTime, & (bufferTimestamp.sb), & (ythis->formatField), _thCxt);
    setLength_StringBuilderJc(& (ythis->sBuffer.sb), 0, _thCxt);
    /*no initvalue*/
    if(identNumber >= 0) 
    { 
      
      sComGo = "+";
    }
    else 
    { 
      
      sComGo = "-";
      identNumber = -identNumber;
    }
    
      ( append_u_StringBuilderJc(& (ythis->sBuffer.sb), & (bufferTimestamp.sb), _thCxt)
      , append_z_StringBuilderJc(& (ythis->sBuffer.sb), "; ", _thCxt)
      , append_I_StringBuilderJc(& (ythis->sBuffer.sb), identNumber, _thCxt)
      , append_z_StringBuilderJc(& (ythis->sBuffer.sb), ";", _thCxt)
      , append_z_StringBuilderJc(& (ythis->sBuffer.sb), sComGo, _thCxt)
      , append_z_StringBuilderJc(& (ythis->sBuffer.sb), ";", _thCxt)
      , append_u_StringBuilderJc(& (ythis->sBuffer.sb), & (bufferFormat.sb), _thCxt)
      , append_z_StringBuilderJc(& (ythis->sBuffer.sb), "\r\n", _thCxt)
      );
    TRY
    { 
      
      /**The StringBuilder-instance exists only one time, to prevent dynamically memory.*/
      write_FileWriterJc(& (ythis->file), toStringNonPersist_StringBuilderJc(& ((ythis->sBuffer.sb).base.object), _thCxt), _thCxt);
      /**The file should closed only after nrofSecondsToFlush,*/
      if(ythis->nrofSecondsToFlush == 0) 
      { //:file.close();
        
        
        flush_FileWriterJc(& (ythis->file), _thCxt);
      }
      else if(!ythis->shouldFlushed) 
      { 
        
        /**The first write after a flush or in new file, get and store the time. */
        set_OS_TimeStamp(ythis->timeWrite, os_getDateTime());
        ythis->cntNonFlushedWrite = 1;
        ythis->shouldFlushed = true;
      }
      else 
      { 
        
        /**A second write in non-flushed file. */
        ythis->cntAllNonFlushedWrite += 1;
        ythis->cntNonFlushedWrite += 1;
      }
    }_TRY
    CATCH(IOException, exc)
    
      { 
        
        ythis->dbg.cntWriteError += 1;
      }
    END_TRY
  }
  STACKTRC_LEAVE;
}

/*J2C: dynamic call variant of the override-able method: */
void writeInFile_LogMessageFile_MSG(LogMessageFile_MSG_s* ythis, int32 identNumber, OS_TimeStamp creationTime, char const* text, Va_listFW args, ThCxt* _thCxt)
{ Mtbl_LogMessageFile_MSG const* mtbl = (Mtbl_LogMessageFile_MSG const*)getMtbl_ObjectJc(&ythis->base.object, sign_Mtbl_LogMessageFile_MSG);
  mtbl->writeInFile(ythis, identNumber, creationTime, text, args, _thCxt);
}


/**Closes the file and forces usage of a new file on next open.*/
void close_LogMessageFile_MSG_F(LogMessageFW_i* ithis, ThCxt* _thCxt)
{ LogMessageFile_MSG_s* ythis = (LogMessageFile_MSG_s*)ithis;
  
  STACKTRC_TENTRY("close_LogMessageFile_MSG_F");
  
  { 
    
    
    { 
      
      close_FileWriterJc(& (ythis->file), _thCxt);//catch(IOException exc){ dbg.cntCloseError +=1; }
      
    }
    ythis->bNewFile = true;
  }
  STACKTRC_LEAVE;
}

/*J2C: dynamic call variant of the override-able method: */
void close_LogMessageFile_MSG(LogMessageFW_i* ithis, ThCxt* _thCxt)
{ Mtbl_LogMessageFW const* mtbl = (Mtbl_LogMessageFW const*)getMtbl_ObjectJc(&ithis->base.object, sign_Mtbl_LogMessageFW);
  mtbl->close((LogMessageFW_i*)ithis, _thCxt);
}

bool isOnline_LogMessageFile_MSG_F(LogMessageFW_i* ithis, ThCxt* _thCxt)
{ LogMessageFile_MSG_s* ythis = (LogMessageFile_MSG_s*)ithis;
  
  STACKTRC_TENTRY("isOnline_LogMessageFile_MSG_F");
  
  { 
    
    { STACKTRC_LEAVE;
      return true;
    }
  }
  STACKTRC_LEAVE;
}

/*J2C: dynamic call variant of the override-able method: */
bool isOnline_LogMessageFile_MSG(LogMessageFW_i* ithis, ThCxt* _thCxt)
{ Mtbl_LogMessageFW const* mtbl = (Mtbl_LogMessageFW const*)getMtbl_ObjectJc(&ithis->base.object, sign_Mtbl_LogMessageFW);
  return mtbl->isOnline((LogMessageFW_i*)ithis, _thCxt);
}


void finalize_LogMessageFile_MSG_F(ObjectJc* othis, ThCxt* _thCxt)
{ LogMessageFile_MSG_s* ythis = (LogMessageFile_MSG_s*)othis;  //upcasting to the real class.
 STACKTRC_TENTRY("finalize_LogMessageFile_MSG_F");
  finalize_ObjectJc_F(&ythis->sFilenameBuffer.sb.base.object, _thCxt); //J2C: finalizing the embedded instance.
  finalize_ObjectJc_F(&ythis->sDateformatBuffer.sb.base.object, _thCxt); //J2C: finalizing the embedded instance.
  finalize_ObjectJc_F(&ythis->formatTimestamp.base.object, _thCxt); //J2C: finalizing the embedded instance.
  finalize_ObjectJc_F(&ythis->formatField.base.object, _thCxt); //J2C: finalizing the embedded instance.
  finalize_ObjectJc_F(&ythis->file.base.object, _thCxt); //J2C: finalizing the embedded instance.
  CLEAR_REFJc(ythis->msgOpenClose);
  finalize_ObjectJc_F(&ythis->dateFormat.base.object, _thCxt); //J2C: finalizing the embedded instance.
  CLEAR_REFJc(ythis->localization);
  CLEAR_REFJc(ythis->timeZone);
  finalize_ObjectJc_F(&ythis->sBuffer.sb.base.object, _thCxt); //J2C: finalizing the embedded instance.
  finalize_ObjectJc_F(&ythis->base.object, _thCxt); //J2C: finalizing the superclass.
  STACKTRC_LEAVE;
}




/**J2C: Reflections and Method-table *************************************************/
const MtblDef_LogMessageFile_MSG mtblLogMessageFile_MSG = {
{ { sign_Mtbl_LogMessageFile_MSG//J2C: Head of methodtable.
  , (struct Size_Mtbl_t*)((2 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
  }
, setLogMessageOpenClose_LogMessageFile_MSG_F //setLogMessageOpenClose
, writeInFile_LogMessageFile_MSG_F //writeInFile
, { { sign_Mtbl_ObjectJc//J2C: Head of methodtable.
    , (struct Size_Mtbl_t*)((5 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
    }
  , clone_ObjectJc_F //clone
  , equals_ObjectJc_F //equals
  , finalize_LogMessageFile_MSG_F //finalize
  , hashCode_ObjectJc_F //hashCode
  , toString_ObjectJc_F //toString
  }
  /**J2C: Mtbl-interfaces of LogMessageFile_MSG: */
, { { sign_Mtbl_LogMessageFW//J2C: Head of methodtable.
    , (struct Size_Mtbl_t*)((6 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
    }
  , sendMsgVaList_iDtzv_LogMessageFile_MSG_F //sendMsgVaList
  , flush_LogMessageFile_MSG_F //flush
  , close_LogMessageFile_MSG_F //close
  , isOnline_LogMessageFile_MSG_F //isOnline
  , sendMsg_izv_LogMessageFile_MSG_F //sendMsg
  , sendMsgTime_iDtzv_LogMessageFile_MSG //sendMsgTime
  , { { sign_Mtbl_ObjectJc//J2C: Head of methodtable.
      , (struct Size_Mtbl_t*)((5 +2) * sizeof(void*)) //size. NOTE: all elements are standard-pointer-types.
      }
    , clone_ObjectJc_F //clone
    , equals_ObjectJc_F //equals
    , finalize_LogMessageFile_MSG_F //finalize
    , hashCode_ObjectJc_F //hashCode
    , toString_ObjectJc_F //toString
    }
  }
}, { signEnd_Mtbl_ObjectJc, null } }; //Mtbl


 extern_C struct ClassJc_t const reflection_ObjectJc;
 static struct superClasses_LogMessageFile_MSG_s_t
 { ObjectArrayJc head;
   ClassOffset_idxMtblJc data[1];
 }superclasses_LogMessageFile_MSG_s =
 { CONST_ObjectArrayJc(ClassOffset_idxMtblJc, 1, OBJTYPE_ClassOffset_idxMtblJc, null, null)
 , { {&reflection_ObjectJc, OFFSET_Mtbl(Mtbl_LogMessageFile_MSG, ObjectJc) }
   }
 };

 extern_C struct ClassJc_t const reflection_LogMessageFW_i;
 static struct ifcClasses_LogMessageFile_MSG_s_t
 { ObjectArrayJc head;
   ClassOffset_idxMtblJc data[1];
 }interfaces_LogMessageFile_MSG_s =
 { CONST_ObjectArrayJc(ClassOffset_idxMtblJc, 1, OBJTYPE_ClassOffset_idxMtblJc, null, null)
, { {&reflection_LogMessageFW_i, OFFSET_Mtbl(Mtbl_LogMessageFile_MSG, LogMessageFW) }
  }
};

extern_C struct ClassJc_t const reflection_LogMessageFile_MSG_s;
extern_C struct ClassJc_t const reflection_ConcurrentLinkedQueueJc_s;
extern_C struct ClassJc_t const reflection_Dbg_LogMessageFile_MSG_s;
extern_C struct ClassJc_t const reflection_FileWriterJc_s;
extern_C struct ClassJc_t const reflection_LocaleJc_s;
extern_C struct ClassJc_t const reflection_LogMessageFW_i;
extern_C struct ClassJc_t const reflection_OS_TimeStamp;
extern_C struct ClassJc_t const reflection_SimpleDateFormatJc_s;
extern_C struct ClassJc_t const reflection_StringBuilderJc;
extern_C struct ClassJc_t const reflection_StringJc;
extern_C struct ClassJc_t const reflection_TextFieldPositionJc_s;
extern_C struct ClassJc_t const reflection_TimeZoneJc_s;
const struct Reflection_Fields_LogMessageFile_MSG_s_t
{ ObjectArrayJc head; FieldJc data[31];
} reflection_Fields_LogMessageFile_MSG_s =
{ CONST_ObjectArrayJc(FieldJc, 31, OBJTYPE_FieldJc, null, &reflection_Fields_LogMessageFile_MSG_s)
, {
     { "sFilenameBuffer"
    , 0 //nrofArrayElements
    , &reflection_StringBuilderJc
    , kEmbedded_Modifier_reflectJc |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->sFilenameBuffer) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "sDateformatBuffer"
    , 0 //nrofArrayElements
    , &reflection_StringBuilderJc
    , kEmbedded_Modifier_reflectJc |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->sDateformatBuffer) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "sFormatTimestampFilename"
    , 0 //nrofArrayElements
    , &reflection_StringJc
    , kEnhancedReference_Modifier_reflectJc /*t*/ //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->sFormatTimestampFilename) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "formatTimestamp"
    , 0 //nrofArrayElements
    , &reflection_SimpleDateFormatJc_s
    , kEmbedded_Modifier_reflectJc |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->formatTimestamp) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "counterMultifile"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->counterMultifile) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "formatField"
    , 0 //nrofArrayElements
    , &reflection_TextFieldPositionJc_s
    , kEmbedded_Modifier_reflectJc |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->formatField) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "charsFormatTimestampFilename"
    , 32 //nrofArrayElements
    , REFLECTION_char
    , 4 << kBitPrimitiv_Modifier_reflectJc |kStaticArray_Modifier_reflectJc |kEmbeddedContainer_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->charsFormatTimestampFilename) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "posTimestampInFilename"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->posTimestampInFilename) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "posMultifileInFilename"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->posMultifileInFilename) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "currentLengthMultifileNr"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->currentLengthMultifileNr) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "file"
    , 0 //nrofArrayElements
    , &reflection_FileWriterJc_s
    , kEmbedded_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->file) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "timeOpen"
    , 0 //nrofArrayElements
    , &reflection_OS_TimeStamp
    , kEmbedded_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->timeOpen) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "bNewFile"
    , 0 //nrofArrayElements
    , REFLECTION_bool
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->bNewFile) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "timeWrite"
    , 0 //nrofArrayElements
    , &reflection_OS_TimeStamp
    , kEmbedded_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->timeWrite) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "timeClose"
    , 0 //nrofArrayElements
    , &reflection_OS_TimeStamp
    , kEmbedded_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->timeClose) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "nrofSecondsToFlush"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->nrofSecondsToFlush) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "nrofSecondsToClose"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->nrofSecondsToClose) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "cntAllNonFlushedWrite"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->cntAllNonFlushedWrite) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "cntNonFlushedWrite"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->cntNonFlushedWrite) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "maxCntNonFlushedWrite"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->maxCntNonFlushedWrite) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "shouldFlushed"
    , 0 //nrofArrayElements
    , REFLECTION_bool
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->shouldFlushed) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "msgOpenClose"
    , 0 //nrofArrayElements
    , &reflection_LogMessageFW_i
    , kEnhancedReference_Modifier_reflectJc /*@*/ |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->msgOpenClose) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "msgIdentOpenClose"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->msgIdentOpenClose) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "nrofHoursPerFile"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->nrofHoursPerFile) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "dbg"
    , 0 //nrofArrayElements
    , &reflection_Dbg_LogMessageFile_MSG_s
    , kEmbedded_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->dbg) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "parkedOrders"
    , 0 //nrofArrayElements
    , &reflection_ConcurrentLinkedQueueJc_s
    , kReference_Modifier_reflectJc |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->parkedOrders) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "freeEntries"
    , 0 //nrofArrayElements
    , &reflection_ConcurrentLinkedQueueJc_s
    , kReference_Modifier_reflectJc |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->freeEntries) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "dateFormat"
    , 0 //nrofArrayElements
    , &reflection_SimpleDateFormatJc_s
    , kEmbedded_Modifier_reflectJc |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->dateFormat) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "localization"
    , 0 //nrofArrayElements
    , &reflection_LocaleJc_s
    , kEnhancedReference_Modifier_reflectJc /*@*/ |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->localization) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "timeZone"
    , 0 //nrofArrayElements
    , &reflection_TimeZoneJc_s
    , kEnhancedReference_Modifier_reflectJc /*@*/ |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->timeZone) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
   , { "sBuffer"
    , 0 //nrofArrayElements
    , &reflection_StringBuilderJc
    , kEmbedded_Modifier_reflectJc |mObjectJc_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->sBuffer) - (int32)(LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_LogMessageFile_MSG_s
    }
} };
const ClassJc reflection_LogMessageFile_MSG_s = 
{ CONST_ObjectJc(OBJTYPE_ClassJc + sizeof(ClassJc), &reflection_ObjectJc, &reflection_ClassJc) 
, "LogMessageFile_MSG_s"
, (int16)((int32)(&((LogMessageFile_MSG_s*)(0x1000))->base.object) - (int32)(LogMessageFile_MSG_s*)0x1000)
, sizeof(LogMessageFile_MSG_s)
, (FieldJcArray const*)&reflection_Fields_LogMessageFile_MSG_s
, null //method
, (ClassOffset_idxMtblJcARRAY*)&superclasses_LogMessageFile_MSG_s //superclass
, (ClassOffset_idxMtblJcARRAY*)&interfaces_LogMessageFile_MSG_s //interfaces
, mObjectJc_Modifier_reflectJc
, &mtblLogMessageFile_MSG.mtbl.head
};

/**Helper class for some debug informations.
*/


const char sign_Mtbl_Dbg_LogMessageFile_MSG[] = "Dbg_LogMessageFile_MSG"; //to mark method tables of all implementations


/*Constructor *//**J2C: autogenerated as default constructor. */
struct Dbg_LogMessageFile_MSG_t* ctorM_Dbg_LogMessageFile_MSG(MemC mthis, ThCxt* _thCxt)
{ Dbg_LogMessageFile_MSG_s* ythis = PTR_MemC(mthis, Dbg_LogMessageFile_MSG_s);  //reference casting to the real class.
  int sizeObj = size_MemC(mthis);
  STACKTRC_TENTRY("ctor_Dbg_LogMessageFile_MSG");
  if(sizeof(Dbg_LogMessageFile_MSG_s) > sizeObj) THROW_s0(IllegalArgumentException, "faut size", sizeObj);
  //j2c: Initialize all class variables:
  {
  }/*J2C:No body for constructor*/

  STACKTRC_LEAVE;
  return ythis;
}


extern_C struct ClassJc_t const reflection_Dbg_LogMessageFile_MSG_s;
const struct Reflection_Fields_Dbg_LogMessageFile_MSG_s_t
{ ObjectArrayJc head; FieldJc data[5];
} reflection_Fields_Dbg_LogMessageFile_MSG_s =
{ CONST_ObjectArrayJc(FieldJc, 5, OBJTYPE_FieldJc, null, &reflection_Fields_Dbg_LogMessageFile_MSG_s)
, {
     { "cntWriteError"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((Dbg_LogMessageFile_MSG_s*)(0x1000))->cntWriteError) - (int32)(Dbg_LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_Dbg_LogMessageFile_MSG_s
    }
   , { "cntCloseError"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((Dbg_LogMessageFile_MSG_s*)(0x1000))->cntCloseError) - (int32)(Dbg_LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_Dbg_LogMessageFile_MSG_s
    }
   , { "cntOpenFailed"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((Dbg_LogMessageFile_MSG_s*)(0x1000))->cntOpenFailed) - (int32)(Dbg_LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_Dbg_LogMessageFile_MSG_s
    }
   , { "cntCreateNewBecauseOpenFailed"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((Dbg_LogMessageFile_MSG_s*)(0x1000))->cntCreateNewBecauseOpenFailed) - (int32)(Dbg_LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_Dbg_LogMessageFile_MSG_s
    }
   , { "cntFilePathIncorrect"
    , 0 //nrofArrayElements
    , REFLECTION_int32
    , 4 << kBitPrimitiv_Modifier_reflectJc //bitModifiers
    , (int16)((int32)(&((Dbg_LogMessageFile_MSG_s*)(0x1000))->cntFilePathIncorrect) - (int32)(Dbg_LogMessageFile_MSG_s*)0x1000)
    , 0  //offsetToObjectifcBase
    , &reflection_Dbg_LogMessageFile_MSG_s
    }
} };
const ClassJc reflection_Dbg_LogMessageFile_MSG_s = 
{ CONST_ObjectJc(OBJTYPE_ClassJc + sizeof(ClassJc), &reflection_ObjectJc, &reflection_ClassJc) 
, "Dbg_LogMessageFile_MSG_s"
,  0 //position of ObjectJc
, sizeof(Dbg_LogMessageFile_MSG_s)
, (FieldJcArray const*)&reflection_Fields_Dbg_LogMessageFile_MSG_s
, null //method
, null //superclass
, null //interfaces
, 0    //modifiers
};
