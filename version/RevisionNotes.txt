
==Revision description CRuntimeJavalike==
.
===2017-17-07===
This version is used in the www.vishia.org/smlk/Example_ObjO.zip from 2017-12-10.
For Simulink only parts are used to generate the Sfunctions for the inspector, and for base functionality.
Most of changes are done regarding the Simulink usage (see www.vishia.org/smlk).

* applstdef_emC.h, compl_adaption.h: Some adaption while testing. Note: It will be refactored to a canonical form in the next commit.
* added some files emtpy which are included in simulink: rtw_continuous.h, rtw_solver.h
* stopAssert_Fwc_while0.c: possibility to abort the stop loop in debugger using a cont-variable instead while(true)
* fw_handle_ptr64.c: improved. Firstly used for Simulink ObjO
* Msc13.zmake.jztc: new to compile library for using in simulink
* ObjectJc_simple.h: Better integration with objectBaseC.h: Now the last one can be included after include TargerNumericSimple/applstdef_emC.h
with conditional compilation the ObjectJc-struct and some macros are excluded.
* objectBaseC.h: Some parts conditional with #ifndef __ObjectJc_defined__ because it may be defined in another file (especially ObjectJc_simple.h) in another proper kind.
* objectBaseC.h: INITIALIZER_ObjectJc fixed, faulty identsize 
* objectBaseC.h: VtblHeadJc, VtblObjectJcRef instead MtblHeadJc, ObjectJcMTB. Only other name. Compatible. background: slang operation vs. method.
* objectBaseC.h: DefPortTypesJc special for Simulink. It may be better to write in a special header fw_Simulink.h which is empty yet.
* src/Inspc/* Some adaption. This sources are used for the Inspector-FB in simulink.
* Service_Inspc.h: The struct SimTime_Inspc is move to fw_time.h
* ReflectionJc.c: For the ObjectJc base class or any other base class which is a member instance of the struct, the type is not read from the reflection.
The type via reflection woult show the type of the whole instance, not from the base instance. Instead, the type is gotten from the declared type which is equal to the real type of the instance anyway.
With this change the ObjectJc base class (or another base class) is seen in reflection tree up to now.
* ReflectionJc.c: null-check of a reference. (bugfix)
* os_Windows64/os_atomic.c: faulty casting removed 
* removed some PRINTF debug lines.



===2017-10-01===

See git commit description.

* Msc6/TestReflection: It is a new project. Only to check instanceof_ObjectJc via reflection. In this version not ready.
* Fwc/fw_Object.c: 2 new operations: getIdxMtbl_s_ClassJc(), instanceof_s_ObjectJc() both with string-given reflection name.
* Fwc/objectBaseC.h: INITIALIZER_ObjectArrayJc(...) better semantic as CONST_...
* Fwc/objectBaseC.h: ClassOffset_idxMtblJc as type to store the reflection with the index to the necessary vtbl



===2016-05-08===

* fw_String.h, StringJc.h: CharSeqJc
* objectBaseC.h: new: [[INITIALIZER_ObjectJc(...)]] instead now deprecated CONST_ObjectJc(...)
* objectBaseC.h: chg: [[isValid_ObjectJc(...)]] enhanced, now checks whether THIZ is not null
* ObjectJc.h: new: reflection_FlushableJc etc. now declared, 
* ObjectJc.h: new: Mtbl_AppendableJc
* StringJc.h: new all methods from StringBufferJc now defined with StringBuilderJc, in C it is the same, both admissable.

* os_types_def_common.h: new type double_complex
* os_types_def.h: Now the definition of PtrVal_TYPE(TYPE) has named the element ,,ref,, instead ,,ptr__,,. It is compatible with an enhanced reference or method-table-reference.

* fw_String.c: arsAndLength_StringJc(...) not ready yet regards CharSeqJc

* InspcJ2c, Ipc2c, J1c: new translated from Java
* ArraysJc.c, : adapted OS_PtrValue .ref insteand .ptr__

* ReflMemAccessJc: bugfix access to bitfields

* os_mem.c etc, all in os_Windows_Msc6: now regards definition of int64


===2016-05-21===


      * Some enhancements for mem in ThreadContext.
      * Enhancements for CharSeqJc
      * New translated from Java: StringFunctions, StringPart
      * fw_ThreadContext: Now the allocation of more as one block in ThreadContext is possible.
      * fw_assert: new: 0_Fwc(cond, TEXT, VALUE)
      * fw_MemC.h: Comment
      * ObjectJc, fw_String: CharSeqJc handling
      * fw_String.c: Not it depends on ObjectJc and StringBuilderJc to support the newer Concept of StringJc.
      TODO: Maybe move content to StringJc.c, offer a simple Variante for simple string handling from the last content of fw_String.c.
    
      New Concept for StringJc: It can be present a CharSeqJc with Mtbl-offset or a StringBuilderJc.
      
===2016-06-05===
      
      * os_types_def.h: change of definition of PtrVal_TYPE(...). Now extra parameter for the type name. It is better for search! The better flexibility may be necessary or not, it was not the reason.
      * fw_String.c: handling of CharSeqJc.

===2016-08-20===
    * stopAssert_Fwc_while0.c: waits in a while loop and printf("ERROR") in a second-period. It is better to break instead nullPointerException.
    * fw_String.c: getMtbl_CharSeqJc(...) bugfix. The index is a count of pointer.
    * fw_String.h: getMtblRef_CharSeqJc(...) new, for faster working with dynamic linked routines for a given CharSeqJc which may be a StringJc too.
    * StringJc: some methods for CharSeqJc
    * ObjectJc.h: checkMtbl_ObjectJc(...)
    * StringBufferJc: some enhancements regarding CharSeqJc
    * MsgDisp: new translated Java2C, no functional changes
    * J1c: new translated Java2C, StringPart should run now, in test.
    * Ipc2C: new translated Java2C
    * fw_Exception.h: new: THROWRET as a new concept without exception processing.
    * objectBaseC.h: new concept INITIALIZER_ObjectJc(...) for {...} initializing expression.
    * objectBaseC.h: SETMTBJc now regards a TYPE##_s because this is the standard for struct names, without _s is the class Name. Therefore some interfaces changed from _i to _s as suffix. Unified. The macro was not used often before.
    * ReflectionBasetypesJc.c, fw_LogMessage.c, fw_LogMsgStream.c: adapted: use LogMessageFW_s instead LogMessageFW_i, better for unified translation Java2C
    * ObjectJc.h: contains the definition of ClassJc.h in this file, removed from ReflectionJc.h, because inline definition of checkMtblError_ObjectJc(...). All macro all inlines may use reflection and need only ClassJc therefore. It is better this basic struct is defined in ObjectJc already. No changes necessary in usage because ReflectionJc.h has included ObjectJc already.
    * Ipc2c: new InterProcessCommRx... methods

===2016-09-11===
    SignThCxt: new feature for Buffer in Thread Context. stop_DebugutilJc().
    * fw_Exception: now contains stop_DebugutilJc().
    * fw_Object, fw_ThreadContext  allocInThreadCxt_ObjectJc(...) and getUserBuffer_ThreadContextFw(...)
      now with an argument 'sign'. It is stored in a new AddrUsed_ThreadContextFW.sign and it is visible
      by debugging for a faulty (not freed) buffer in ThreadContext.
    * J1c: All sources new translated from Java2C with signThCxt
    * fw_ThreadContext: struct ThreadContextFW_t now contains up to 30 buffer in ThreadContext instead 10.
      New element ixLastAddrUsed and new routine reduceLastUserBuffer_ThreadContextFw(...).
      With this the Buffer in ThreadContext concept is pushed.
    * StringJc.h: _reduceCapacity_StringBuilderJc
    * StringBufferJc.c: Now toStringNonPersist_StringBuilderJc(...) and format_A_StringJc(...) reduces the capacity in the thread context.
    * StringBufferJc.c: The method replace_cII_StringBuilderJc(...) was errorneous if argument ,,to,, is negative. Now the method
      never throws, but does nothing on failed arguments. if ,,to,, is -1 then the argument add is used till end.
      That is the contract to preserve effort on invocation.
    * StringBufferJc.c: insert_cYii_StringBuilderJc(...) adequate bugfix as replace_cII_StringBuilderJc(...).
      TODO: Only one method for all insert/replace/append variants to minimize variations, all others per define with adequate arguments.
    * stc-Files: The attribute ,,returnNonPersistring,, is removed in syntax because the designation 'k' on the return value is sufficient.
      That ,,returnNonPersistring,, was not correctly used in the Java2C translator. The 'k' is lesser semantically but the stc files
      are not thought for frequently editing.

===2016-10-16===
    Test InspcTargetProxy:
    * appl_InspcTargetProxy/* removed because it is an extra component. Not part of the normal CRuntimeJavalike.
    * cleanup InterProcessCommFactory: In Java the InterProcessCommFactoryAccessor was removed and joined with this class.
      Therewith InterProcessCommFactory was an interface an it is now an abstract class which contains the static 'getInstance'
      routine. The ctor of this class stores the singleton instance because it is the ctor of the derived implementation class.
      This concept is now present in C.
    * Some bugfixes while test
    * Some comments of Java2C-translator in the translated sources.

===2016-10-21===
    New concept with Fwc_Fw_UserExceptionHandling.h, bugfixes
    * fw_Exception.h: The file Fwc_Fw_UserExceptionHandling.h is included. This file will be presumed in the users space
      to define how to handle exceptions.
    * replace_cII_StringBuilderJc: fixed. Concept positions: -1 is the end of string, negative counts from end.

===2016-10-29===
    New concept with OSAL_UserExceptionAndDebug.h, InspcTargetProxy
    * OSAL_UserExceptionAndDebug.h: Renaming, also for debug. included in os_types_def.h
    * os_types_def.h: CONST_OS_PtrValue should regard other types too. Adapted in fw_MemC.h etc.
    * fw_Object.c: Don't clear on init_ObjectJc because the instance may be initialized on startup.
    * source/Inspc/InspcTargetProxy... new
    * InspcJ2c/ClassContent etc.: newly translated, changed in Java, change Java2C-translator.
      Especially the {0} initializing for stack instances was missing before.

===2016-11-13===
    Gardening fw_ThreadContext.h, fw_Exception.h, solve intedependence of this 2 files.
    ! All user sources which uses parts from fw_Exception.h but includes only fw_ThreadContext.h should now include <Fwc/fw_Exception.h> up to now.
    * It is fixed for the most of CRuntimeJavalike sources.
    * os_types_def.h use define instead typedef, like documentation.
      
===2016-12-02===
    Redesign of the STACKTRC and Fwc/Fw_Exception after documentation.

===2016-12-11===
os_types_def.h: CONST_OS_PtrValue(...) now has 3 arguments, the TYPE additinally. 
  Background: The OS_PtrValue can have different pointer types.
* FormatterJc.h: new Method close(). Necessary because in Java the class has close().
* StringPartJc: change definition of 



===2016-12-11===
Compilation with Gcc in Eclise CDT, some gardenings. Many small changes.
Real changes:
* ObjectJc in objectBaseC.h: since 2016-12: The struct is changed, but the number .... (see source), adapted: OsWrapperJc.c
* fw_threadContext.c bugfix!!: getUserBuffer_ThreadContextFw: init0_MemC: set to 0 on allocation
* InputValues_Inspc.c: regards an &name on field: Its reflection are contained in the referenced instance via ObjectJc.
* ReflectionJc.c: If it is a reference to an integer, the indices should be applied
  inside the referenced field. Not to the obj. The field is not an embedded array of references but a reference to an array. 
* ReflectionJc.c: Bitfield with max 16 bits, 16 is designated with 0.
Gardening because gcc-compilation:
* Some designations with extern_C instead extern: BlockHeapJc_admin.h, InterProcessComm.h. FileIoJc.h, ListJc.h,
  LocaleJc.h, ObjectJc.h, StringJc.h, ThreadJc.h, TimeZoneJc.h, ReflectionBasetypesJc.c
* Removed some designations with METHOD_C in implementations: BlockHeapJc_Alloc.c, fw_String.c, LinkedListJc.c  
Adaption because changes before:
* CONST_OS_PtrValue with 3, argument since 2016-10: More adapted: fw_MemC.h, ReflMemAccessJc.h
* FormatterJc.h: close_FormatterJc like in Java. It is a Closeable.
* CharSeqJc concept, gardening: fw_String.c, TimeSignals_Inspc.c
* InterProcessCommRxExec_Ipc.c: gardening with PtrVal_int8, changed in Java-source with annotation.
Changes in methodical, correctness:
* os_types_def_common.h: With more content, copied from os_types_def.h which are not os-specific.
* FBaccess_Inspc.c: reflection are included from file FBaccess_Inspc_Refl.crefl
* TimeSignals_Inspc.c: uses named 1-dimensional array instead 2, better for reflection inspecting of internal content.
* min_Fwc, max_Fwc instead min and max because the simple function names min and max are used in some standards in different forms.
  StringFunctionsJc.c
* Some sources moved from  sourceSpecials/os_Windows_Msc6 to sourceSpecials/osal_Windows32 because there are wrapper 
  to the windows operation system, not compiler-specific, used for gcc compilation too.
* os_atomic.c moved from sourceSpecials/os_LinuxGcc to sourceSpecials/hw_Intel_x86_Gcc because it is not os-specific 
  but hardware- and assembler (gcc) specific. Used for gcc compiler. The pendant for Msc6 is still in sourceSpecials/os_Windows_Msc6
Java2C-gardening:
* Java2C new translated with only comment change: AnswerComm_ifc_Inspc.c, ClassContent_Inspc.c etc, all of Inspc-Service.
* _thCxt->stacktrc instead stacktraceThreadContext renaming because change in fw_ThreadContext.h for Java2C-translated sources
* Some Sources translated with Java2C with more annotations for inlined: StringPartJc.c
* stc-Files form Java2C-translation mostly only changed in comment, somewhat because annotation and adaption.

  
  





==2012-0410 Hartmut==



>bzr log
/home/hartmut/vishia/Java2C/sf/Java2C/CRuntimeJavalike>bzr log
------------------------------------------------------------
revno: 44
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Mon 2012-04-09 12:57:19 +0200
message:
  reflection__char16Jc
  ReflectionJc new: nrofBytesScalarTypes_ClassJc[], reflection__char16Jc
  os_time.h new: os_getSeconds(): seconds are able to process with a 32-bit integer. They are supported in most of operation systems. It is the originally unix concept for the timestamp. It should be available if measurements of seconds are enough and proper to use.
------------------------------------------------------------
revno: 43
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Thu 2012-02-23 08:49:39 +0100
message:
  * Some extern_C missing for reflection_Type. It is important for C++-compilation only.
  * os_socket.c adapted for Windows-Platform.
------------------------------------------------------------
revno: 42
committer: Hartmut Schorrig <hartmut@linux-c8ks>
branch nick: CRuntimeJavalike
timestamp: Tue 2012-02-21 18:29:19 +0100
message:
  * bugfixes while testing under linux, now socket communication works
------------------------------------------------------------
revno: 41
committer: Hartmut Schorrig <hartmut@linux-c8ks>
branch nick: CRuntimeJavalike
timestamp: Tue 2012-02-21 08:09:44 +0100
message:
  *os_socket.h: chg: some ref parameters const
  *os_LinuxGcc/os_socket.c: chg: now ok, works
  *os_LinuxGcc/os_types_def.h: chg: some types int16_va_list etc are int really!
  *ThreadJc.h new: getname_ThreadJc() was missing, it is a macro
------------------------------------------------------------
revno: 40
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Mon 2012-02-20 08:40:41 +0100
message:
  Some Test files added
------------------------------------------------------------
revno: 39
committer: Hartmut Schorrig <hartmut@linux-c8ks>
branch nick: CRuntimeJavalike
timestamp: Sun 2012-02-05 11:20:00 +0100
message:
  include uppercase
------------------------------------------------------------
revno: 38
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sat 2012-02-04 19:05:31 +0100
message:
  addes some more files, generated reflection for test, dep-files from MsC6
------------------------------------------------------------
revno: 37
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Mon 2012-01-30 12:18:49 +0100
message:
  * Libs (Windows) removed from archive, there are binaries!
  * fw_SimpleC: new FloatArray256 etc.
  *  fw_SimpleC: new searchString_Fwc(...) as a basic functionality
  * some renaming int32 to int32_t (C99-Compatible)
  * Visual Studio 6 projects improved (Win-Libs)
  * ReflectionBasetypesJc.c: The offsets of int64_hilo etc. where designated as -1 for 'remote Device', set to OFFSETinTYPE_MemUnit(...) for usage in local programs. TODO is that a problem when it are using in remote devices? If yes, The ReflectionGenerator and Reflection_Jc.c should be improved.
------------------------------------------------------------
revno: 36
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Fri 2011-10-07 11:15:15 +0200
message:
  * Path includeSpecials/os_Windows renamed to includeSpecials/os_Windows_Msc6 because it is for Visiual Studio 6 compiler
  * os_types_def.h: additional type int64_hilo to access both parts of a int64 with 32 bit. It is processor specific.
  * ReflectionBasetypesJc.c: int64_hilo
------------------------------------------------------------
revno: 35
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-08-14 08:10:15 +0200
message:
  * Windows-Libraries
------------------------------------------------------------
revno: 34
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-08-14 07:56:54 +0200
message:
  * Windows-Libraries now generates the correct pdb-file stored with the library. It supports debugging step in library with source codes.
------------------------------------------------------------
revno: 33
committer: Hartmut Schorrig <hartmut@linux-c8ks>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-08-07 21:55:48 +0200
message:
  * Some minor changes while compiling under linux, case sensitive includefilenames etc.
  * os_socket.h for linux should be adapted. Only copied from Windows yet with minor adaptions. It is TODO
------------------------------------------------------------
revno: 32
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-07-10 16:02:49 +0200
message:
  * _bzrCommit.txt was added by mistake. deleted.
------------------------------------------------------------
revno: 31
committer: JcHartmut
branch nick: CRuntimeJavalike
timestamp: Sat 2011-07-02 19:25:12 +0200
message:
  Objects and temp files deleted, they were added in the last commit
------------------------------------------------------------
revno: 30
committer: Hartmut Schorrig <hartmut@linux-c8ks>
branch nick: CRuntimeJavalike
timestamp: Sat 2011-07-02 19:06:13 +0200
message:
  * Some small changes
  ** ObjectJc.c in cpp-compilation: toString() commented, because compiler error (TODO if need)
  ** Windows-lib-dsps All should be for Multithreading (compiler option)
------------------------------------------------------------
revno: 29
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Thu 2011-06-23 13:29:33 +0200
message:
  * Some bak files deleted
  * some files added
  * TestLibOsalFwc
------------------------------------------------------------
revno: 28
committer: Hartmut Schorrig <hartmut@linux-c8ks>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-06-05 13:54:01 +0200
message:
  os_linux, enhancement of os_file.h
------------------------------------------------------------
revno: 27
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-05-15 23:28:20 +0200
message:
  * remove dependency to fw_Platform_conventions in the OSAL and Csimple lib.
  The mLength_StringJc should be defined now in os_types_def.h. It depends on processor-word-wide etc.
------------------------------------------------------------
revno: 26
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Fri 2011-05-06 22:05:50 +0200
message:
  * Add some Test-Projects in Visual Studio 6: The tests should be a part of the CRuntimeJavalike component. A user can verfify the codes and concepts, examples are given. All tests are disposed in the Test/*-directory with sub-dirs. The tests will be evaluated under Linux in the future.
------------------------------------------------------------
revno: 25
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Fri 2011-05-06 21:38:15 +0200
message:
  * Check and corr: Inspc.java2c.bat
------------------------------------------------------------
revno: 24
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Wed 2011-05-04 18:36:22 +0200
message:
  * Changes of os_file.h Identifier: Not OS_FileDescription but FileDescription_OSAL,
  some adaptions
------------------------------------------------------------
revno: 23
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-04-24 18:23:16 +0200
message:
  * Renaming in os_file.h: More consequent naming conventions. TODO adapt usage.
------------------------------------------------------------
revno: 22
committer: hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Tue 2011-04-19 12:31:13 +0200
message:
  * os_AtomicAccess.h: ifdef PLATFORM_os_AtomicAccess_h, then includes PLATFORM_os_AtomicAccess.h: Special cases platform-depending.
  * os_time.h: ifdef PLATFORM_os_time_h, then includes PLATFORM_os_time_h
  * ReflMemAccessJc.c: Test nullpointer to prevent crash
  * ReflectionJc.c: Using of getAddrElement_FieldJc() instead getMemoryAddress_FieldJc to access getInt_FieldJc etc. for correct supporting arrays.
------------------------------------------------------------
revno: 21
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Wed 2011-03-09 22:08:48 +0100
message:
  Test/TestAtomic and Test/TestFileJc
------------------------------------------------------------
revno: 20
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Tue 2011-03-08 21:32:54 +0100
message:
  TestStringJc Test-project re-tested under visual studio
------------------------------------------------------------
revno: 19
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Mon 2011-03-07 22:36:59 +0100
message:
  added get archive from bazaar on launchpad as batch-file
------------------------------------------------------------
revno: 18
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-03-06 22:31:52 +0100
message:
  Library-association tested.
  * Now there are 2 libs: OsalFwc and baseJc. Both libs are existing as C- and C++-variant. But most of the methods in the C++-variant are declared with exern "C".
  * If C++ is used, fw_Exception uses throw. It doesn't use the longjmp! Only the C-Variant uses the longjmp. But it is possible to include the OsalFwc.lib (C-variant) in a C++ environment. Then longjmp have to be used in C++ tool
------------------------------------------------------------
revno: 17
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-03-06 20:55:37 +0100
message:
  improve dependencies for OSAL/Fwc
------------------------------------------------------------
revno: 16
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-03-06 19:16:09 +0100
message:
  enhancement os_file: get stdin, stdout, stderr, os_ftell.
  The Implementation for windows has 2 variants: using fopen etc (FILE*) and the lo-level-functions open, read etc.
  A test project using Visual Studio6 for the os-library is created. os_file and Formatter-fwc-tested.
------------------------------------------------------------
revno: 15
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-03-06 19:10:26 +0100
message:
  There was an error in fw_Formatter.c, some enhancements while testing in pactice:
   *  new method format_Formatter_FW(...).
   * bugfix: format_va_arg_Formatter_FW(...): The variable arguments were not detect correctly.
   * new: format_va_arg_Formatter_FW(...): The argument zFormat can be 0, then the sFormat is recognized 0-terminated with max, 1000 chars.
------------------------------------------------------------
revno: 14
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-03-06 07:56:07 +0100
message:
  the shared memory is not a part of OSAL. It is removed.
------------------------------------------------------------
revno: 13
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-03-06 07:54:51 +0100
message:
  Some fine corrections to minor depedencies:
  * fw_Exception.h: shouldn't include os_file.h, forward declaration used
------------------------------------------------------------
revno: 12
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Wed 2011-03-02 06:09:54 +0100
message:
  Dependency-files from visual Studio added, to detect dependencies while changing includes etc.
  makefiles also added, they are generated files, but check the relevance
------------------------------------------------------------
revno: 11
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-02-27 09:31:54 +0100
message:
  FileSystemJc.h: writeBinFile_FileSystemJc forward declared
  fw_formatter.c: writing Char8_t etc. instead char8_t because conflicts with os_types_def.h
  fw_Exception.stc: package?
------------------------------------------------------------
revno: 10
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Tue 2011-02-22 20:32:09 +0100
message:
  *corr: getMemoryIdent_V_FieldJc() regards the reference-property of the field, in the same way as getInt_FieldJc etc.
  * TODO: All methods getTYPE_FieldJc() should use getAddrElement_FieldJc instead getMemoryAddress_FieldJc to regard container properties. It is not changed yet but it is detected and designated with TODO
------------------------------------------------------------
revno: 9
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Tue 2011-02-22 20:02:05 +0100
message:
  comment in ReflectionJc.h, Methods getMemoryAddress_FieldJc(), getContainerAddress_FieldJc() and getAddrElement_FieldJc().
------------------------------------------------------------
revno: 8
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Fri 2011-02-18 19:06:53 +0100
message:
  * Separation of library baseJc and simpleC: The simpleC-lib should contain only routines which runs under any standard-C and does not need any other libs. The OSAL.lib can use this simpleC-lib in its implementation. The order of lib should be well defined using GNU-linker.
  * Definition of the C99-Standard types int32_t etc and use them in some of files. Reason: compatibility-problems with other sources in a special project. There was used 'int32' for a enum definition of an internal type. That is correct and should be accepted.
  * New sources in Fwc for readline of files. But this source should not be a part of simpleC, because it uses the OSAL (TODO).
  * New routines in fwc/simpleC.c to support working with strings. This simple routines are created respectively copied and adapted from older projects because the Standard-C scanf-routine is faulty on Visual Studio 6 and it is not really good. A user may not use the complex StringJc sources, the fwc-routines are lightweight.
  * Some adaptions in InterProcessComm while using in a special project.
  #Compilation checked in baseJc.lib, OSAL.lib, Reflectiontest.
------------------------------------------------------------
revno: 7
committer: e09srrh0 <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Wed 2011-02-16 15:20:42 +0100
message:
  *new: source/Ipc/InterProcessCommSocket.c/h: mtblInterProcessCommSocket is defined in the headerfile, it can be used directly if it is defined, that the Socket communication is used. write mtblInterProcessCommSocket.mtbl.send(...) instead send_lInterProcessCommSocket(...). Advantage:
  a) The socket-implementation methods shouldn't be known.
  b) It can be switched between several InterProcessComm-implementations by changing only 1 identifier in the source.
  This change is done because older source-adaption, where this concept were used.
  *corr: source/FwConv/fw_PlatformConvSimpleStop.c: printStackTraceFile_ExceptionJc(...stdout) called with null because adaption.
------------------------------------------------------------
revno: 6
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Mon 2011-02-14 17:09:56 +0100
message:
  Some oder changes, now present...
------------------------------------------------------------
revno: 5
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Mon 2011-02-14 17:07:26 +0100
message:
  bugfix for Inspector: If a receive error occurs, it wasn't handled. Instead, faulty bytes were processed in processTelg(). Now the receiveAndExecute() waits 50 ms on receive errors (to prevent thread hanging on permanent errors), and try receiving again after them. The answer is suppressed if a receive error occurs.
------------------------------------------------------------
revno: 4
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Mon 2011-02-14 15:50:01 +0100
message:
  printStackTraceFile_ExceptionJc works with OS_HandleFile instead FILE* as Parameter: Reason: Not any embedded os supports the standard-C FILE functions. The OSAL-functions should be adapted if CRuntimeJavalike are used anytime.
------------------------------------------------------------
revno: 3
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Wed 2011-02-09 20:18:33 +0100
message:
  Test C++ with ReflectionTarget Successfull,
  include/OSAL/os_types_def_common.h created
------------------------------------------------------------
revno: 2
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sun 2011-02-06 11:38:27 +0100
message:
  extern_C-change for Java2C, new java2c-translation of all java-sources,
  adapt extern_C in CRuntimeJavalike.sources.
  Successfull tested Inspector in C++
------------------------------------------------------------
revno: 1
committer: Hartmut <hartmut.schorrig@vishia.de>
branch nick: CRuntimeJavalike
timestamp: Sat 2011-02-05 22:20:30 +0100
message:
  first bazaar commit
JavaCmd: cmd execution successfull


==2008-0905 JcHartmut==
===StringJc.h===
*new: ctorO_StringBufferJc(): initializing with an initialized ObjectJc
*new: ctorM_s0i_StringBufferJc()
*new: ctorO_s0i_StringBufferJc()
*new: ctorO_i_StringBufferJc()
*new: ctorc_i_StringBufferJc()
*chg: all append_xxx_StringBufferJc() with _threadContext, the C++-versions have no threadContext arg.
*chg: insert_xxx_StringBuffer(): no _i param sign for the insert position

===StringBufferJc.c===
adap: see StringJc.h

===DateJc.c===
adap: see StringJc.h

===ObjectJc.h===
*new: ctorM_ObjectJc() tut dasselbe wie ctor_ObjectJc() aber Namenskonventionen beachtet
*new: checkConsistence_ObjectJc(): ï¿½berprï¿½ft mehr als das Makro testConsistence_ObjectJc
*new: setIdentAndSize_ObjectJc(): testet ob ident und size zueinander passen (Bitverteilungen). Bisher gab es nur die Mï¿½glichkeit, diese Infos in einem int32 zu ï¿½bergeben.
*chg: finalize() mit _threadContext

===objectBaseC.h===
*new: Definitionen fï¿½r kBitTypeLarge_objectIdentSize_ObjectJc usw. fehlten, passend zu mTypeLarge_objectIdentSize_ObjectJc

===MemC.c==
* alloc_MemC() lï¿½scht den allokierten Bereich, ï¿½bergibt ihn also mit 0 gefï¿½llt.

===ObjectJc.c===
* ctorc_ObjectJc initialisiert nur dann, wenn die ownAddress==null ist. Ist dies nicht der Fall, dann wird derzeit nichts ausgefï¿½hrt. TODO: checkConsistence prï¿½fen!
*new: checkConsistence_ObjectJc(): ï¿½berprï¿½ft mehr als das Makro testConsistence_ObjectJc
*new: setIdentAndSize_ObjectJc(): testet ob ident und size zueinander passen (Bitverteilungen). Bisher gab es nur die Mï¿½glichkeit, diese Infos in einem int32 zu ï¿½bergeben.
*new: getSizeInfo_ObjectJc(): hat gefehlt
*new: getIdentInfo_ObjectJc(): neu geschrieben,war an anderer Stelle identsich schon vorhanden .
*chg: finalize() mit _threadContext


==2008-0808 JcHartmut==

===os_sync.c===
os_notify() ist geï¿½ndert:
* Liefert >0, wenn eine Warning passiert, insbesondere wenn eine Semaphore gesetzt wird, die bereits gesetzt ist. Das fï¿½hrte frï¿½her auch schonmal zu einer Exception, unnï¿½tigerweise.
* Liefert <0 bei einem echten Fehler, der nie auftreten sollte (mit ASSERT(ok>=0) prï¿½fbar)
Dieses Schema sollte allgemein durchgehalten werden (OSAL-Design).

===os_thread.h===
os_notify() ist besser dokumentiert, weil es auch sein Verhalten geï¿½ndert hat:
* Liefert >0, wenn eine Warning passiert, insbesondere wenn eine Semaphore gesetzt wird, die bereits gesetzt ist. Das fï¿½hrte frï¿½her auch schonmal zu einer Exception, unnï¿½tigerweise.
* Liefert <0 bei einem echten Fehler, der nie auftreten sollte (mit ASSERT(ok>=0) prï¿½fbar)
Dieses Schema sollte allgemein durchgehalten werden (OSAL-Design).

===gardening===
Einige Feinkorrekturen ''gardening'' ohne funktionelle relevanz, aber teilweise compilersyntaxwichtig, und fï¿½r Reflectiongenerierung.
Fï¿½r Anwender ergeben sich keine ï¿½nderungen.
*chg: Superclass von ClassJc jetzt nicht super sondern object
*chg: Mtbl statt Vtbl

*corr: Includeklammern wegen Cheader.zbnf, unwichtigen aber unschï¿½nen Error bei genReflections vermeiden


==2008-0729 JcHartmut==
===DateJc.c===
*ctor_xx_DateJc ergï¿½nzt, fehlende Initialisierungen
*setTimeNanoSeconds_DateJc ergï¿½nzt

===time.c===
time.c, toStringFormat_Fw()
corr: Liefert nun eine nicht-0-terminierte Ausgaben. Die Zeichenkette muss sich in einen umfassenderen String einpassen lassen!
bugfix: YY als Jahr (groï¿½, nicht klein)
new: a als Formatkennung
corr: Puffer wird bis max. Lï¿½nge gefï¿½llt, dann Abschneiden.




==2008-0707 NOLABEL JcHartmut==
*ConcurrentLinkedQueue.h
**nice: ZeigerTyp eines Items in Makro ITEM_QueueJcREF festgelegt, das Makro ist im h-File definiert. Damit anpassbar ohne Quellï¿½nderung.
**new: ctorMn_ConcurrentLinkedQueueJc und ctorSn_ConcurrentLinkedQueueJc fï¿½r ï¿½bergabe Node-pool gleich zu Anfang, damit kein new intern.
**corr: "Node_ConcurrentLinkedQueueJc volatile* volatile* firstFreeNode" Zeiger auf Node muss volatile sein!

*Date.h
**new: Einige Inhalte aus Date_Jc.c ï¿½bernommen: normalize_DateJc(), compareTo_DateJc(), ctor..._DateJc(), setSystemTime_DateJc()
**chg: toStringFormat_Fw() benutzt keine Jc-Dinge. Hier wï¿½re eine Abtrennung in andere Source (Jc-independ) mï¿½glich.

*MemC.h
**new: init0p_MemC() initialisiert einen ï¿½ber Zeiger gegebenen Bereich mit angegebener Lï¿½nge.
**new: INIT0p_MemC(PTR) als Makro ruft init0p_MemC auf, sizeof(*type), ganz simpel anwendbar, ersetzt memset(...)
**new: address_MemC(mem, offset) als Hilfe zur Adressrechnung, einfacher anwendbar.

*src_Win/os_time.h
**new: int os_getDateTime(_OS_TimeStruct* pDateTime); wie in spec beschrieben definiert
**new: _OS_TimeStruct wie in spec beschrieben definiert, aber auch die Makros OS_mNanoSeconds und OS_mLeapSeconds
**new: int toStringFormat_Fw(...); hier definiert, ist damit unabhï¿½ngig von einem ..Jc anwendbar (braucht auch nichts daraus.)




==2009-05-17==
===Modul_Inspc.*===
corr: myApplication gegen applications[100] getauscht. Dieses Element istaber nicht in aktiver benutzung, siehe ClassContent_Inspc.*

===ClassContent_Inspc.*===
new: Jetzt wird ein targets[100] statt myTarget angelegt, damit können mehrere Einsprünge in Anwenderdaten übergeben werden. Als root für die Anzeige wird this verwendet. 
Dort ist außerdem die data_OsWrapperJc eingehangen. Auf diese Weise sollten alle bekannten globalen Strukturen aus libSupportBase und OSAL eingehangen werden, damit sie inspizierbar sind.
Das wäre ein TODO. Die jetzige Lösung war erstmal hilfreich um Mutexe anzuschauen (Fehlerkorrektur in os_mutex.c).	[]

===OsWraperJc.c===
Strukturen nach OsWrapper.h herausgelöst, damit in Reflection-Generierung bekannt. Wegen Inspector.


==2009-02-15==
===fw_Formatter.c===
*new: Type-Kennzeichnungen 1..9 und $ für immediate Strings in Va_listFW berücksichtigt, diese Variante wird insbesondere vom MsgDispatcher genutzt.
*new: strlen_Fwc(...) arbeitet mit max. Zeichenanzahl-Begrenzung damit sicherer als das Standard-strlen.
*new: format_va_arg_Formatter_FW(...) Ein null-Pointer als String-Argument ist grundsätzlich bei Formatierungen zulässig. Es wird der Text "(null)" ausgegeben anstatt einem Absturz.
==2009-02-03==
===fw_Formatter.c===
*bugfix: break fehlte nach Typ s (StringJc in Argumentliste)
*bugfix: terminierende null bei format_va_arg_Formatter_FW

==2009-02-01==
===ObjectJc.c===
* corr:in setSizeAndIdent_ObjectJc Reihenfolge der Abfrage gedreht, da sonst mTypeLarge_objectIdentSize_ObjectJc nie funktioniert.
* corr: ctorO_ObjectArrayJc ist eine eigene Implementierung neben dem älteren ctorc_ObjectArrayJc, hier darf/wird vorausgesetzt dass der ObjectJc-Anteil bereits initialisiert ist. Nicht nochmal size prüfen. Das geht schief bei size > 64k (mTypeLarge_objectIdentSize_ObjectJc)

===fw_LogMessage.c===
*new: sendMsgVaList_LogMessageFW liefert bool statt void zurück, für Sonderfälle ist jettzt testbar, ob Message abgesetzt worden ist. Das ist nicht für normale Nutzung gedacht!
*new: flush() und close() kann jetzt hier gerufen werden, ist für Sonderfälle nützlich, allgemeines Konzept für ''Message senden wirksam werden lassen'' steckt dahinter.
*chg: Weil flush und close hinten angesetzt sind, sind alte Aufrufe binärkompatibel (Problem der virtuellen Tabellen).
===FileIoJc.c===
*corr: append war mit "a+" und nicht mit "a+b"bezeichnet, worauf 0d 0d 0a als Zeilentrennung auftrat. Strategie ist: Zeilenendekennzeichnung wird nicht tief im Betriebssystem sondern in einer Zwischenschicht kurz unter der Anwendung, ggf. in der Anwendung bestimmt.



==2009-01-29==
===fw_Formatter.c===
corr: Behandlung %c jetzt richtig.

===ReflectionJc.c===
* corr: Einige bugfix wenn Bedingungen nicht passen wie null auf Reflection-Referenz in Object. Solche Bedingungen tauchen auf, wenn ein anderer in Anwenderklassen einfach die Anweisung 'setReflection(...)' löscht, und müssen beherrscht werden. 

==2009-01-24==
===fw_Formatter.c===
new: detectTypeArgs_fwFormatter(..) gemeinsame Methode die bei MsgDispatcher-PMC und Trace notwendig ist.

==2009-01-07==
===einige File ab fw_Formatter.c===
* corr: Umgestellt auf einen Datentype Va_listFW, der sowohl einen va_list-Zeiger als auch einen Zeiger auf die damit verbundenen Typen enthält. Der zweite Zeiger kann null sein, dann ist es typ-unsicher wie bei printf. Wenn eine Anwendung aber Infos über Typen übergibt (siehe iLogMessageFW), dann können diese zweckmäßig genutzt werden.



==2008-12-23==
Alle Files sind  in Jc, Fwc, FwConv, Ipc aufgeteilt.


==2008-0811 MSG... HScho==
===new Members===
* MathJc: enthält derzeit nur pow() als Hülle der Standard-C-pow(), wird aber von StringPartJc so verwendet.

* StringPartJc.c,h: Dieses File ist die Neuinkarnation, ursprünglich aus der alten STRINGPT.CPP-Famile, ca. 1995 entstanden 
und beispielsweise in den alten Tracekonvertierungen benutzt.
Die Files sind ca. 2004 nach Java überführt, dort stark weiterentwickelt und verwendet und nunmehr als C-Abbild wieder für das einfache parsen von Strings 
in C und C++ verwendbar.
* SpecialCharStringJc.c,h: Zugehörig zu StringPartJc. Sonderzeichenbehandlung.

* StringJc.h und StringBufferJc.h neben String_Jc.h, StringBuffer_Jc.h: Die Variante ohne Unterstrich ist schon länger im Umlauf, aber noch nicht im KM, 
Jetzt nötig, weil Translater das so verlangt (keine Handkorrekturen!). Inhalt ist von *_Jc.h nach *Jc.h überführt.

* StringFormatterJc.c,h aus Java, das Gegenstück zu StringPart zur formatierten Ausgabe oberhalb einfacher String-Konvertierungen.
* AllReferencesJcJ2C.h: Dieses File entsteht beim Übersetzen von StringPart.java usw. nach StringPartJc.c,h usw und enthält die Referenzdefinitionen.


===CRuntimeJavalike.cpp===
* new: MathJc, SpecialCharStringsJc.c, StringPartJc.c hinzugefügt

===StringBuffer_Jc.c, 
* corr: Konzept mit typedef StringJc im fw_SysConventions.h etabliert. 
Mit diesem Konzept ist es auch bei unterschiedlichen Prozessoren/Compiler möglich, einen StringJc immer in Registern abzubilden.

* corr: insert_i_StringBufferJc(...) baut nunmehr auf toString_Integer_FW in fw_Formatter.c auf. 
Damit ist diese Art der Konvertierung auch unabhängig vom Jc-Konzept als Quelle nutzbar. Dort Konvertierungen ausbauen!


==2008-0811 TRC601 HScho==
===StringJc.h==
*new: ctorM_StringBufferJc()
*new: new_StringBufferJc(int size);
